<html>
  <head>
    <title>CS460.org Assignment 2</title>
    <style>
      body {
        background-color:#000;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden !important; 
      }
    </style>
    <script type="text/javascript" src="https://get.goXTK.com/xtk_edge.js"></script>
    <script type="text/javascript" src="loader.js"></script>
    <script type="text/javascript">
      window.onload = function(){
        r = new X.renderer3D();
        r.init();
        cube = new X.cube();
        r.add(cube);
        r.render();
      };
      window.onkeypress = function(e){
        CUBE_SIDELENGTH= 10;
        GAP = 2;
        if (e.code == 'KeyW') {
          cube.transform.translateZ(CUBE_SIDELENGTH + GAP);
          r.render();
        }
        else if (e.code == 'KeyA'){
          cube.transform.translateX(CUBE_SIDELENGTH + GAP);
          r.render();
        }
        else if (e.code == 'KeyS'){
          cube.transform.translateZ(-CUBE_SIDELENGTH - GAP);
          r.render();
        }
        else if (e.code == 'KeyD'){
          cube.transform.translateX(-CUBE_SIDELENGTH - GAP);
          r.render();
        }
        else if (e.code == 'KeyQ'){
          cube.transform.translateY(CUBE_SIDELENGTH + GAP);
          r.render();
        }
        else if (e.code == 'KeyE'){
          cube.transform.translateY(-CUBE_SIDELENGTH - GAP);
          r.render();
        }
        else if (e.code >= 'Digit0' && e.code <= 'Digit7'){
          setColor(e.code);
        }
        else if (e.code == 'Space'){
          var new_cube = new X.cube();
            new_cube.color = cube.color;
            new_cube.transform.matrix = new Float32Array(cube.transform.matrix);
            new_cube.lengthX = new_cube.lengthY = new_cube.lengthZ = CUBE_SIDELENGTH;
            r.add(new_cube);
        }
        else if (e.code == 'KeyO'){
          download();
        } else if (e.code == 'KeyL'){
          console.log('Uploading...');
          upload('scene.json');
        }
        r.render();

        function setColor(key){
          switch (key){
            case 'Digit1' :
              cube.color = [1,1,1];
              break;
            case 'Digit2' :
              cube.color = [1,0,0];
              break;
            case 'Digit3' : 
              cube.color = [0,1,0];
              break;
            case 'Digit4' : 
              cube.color = [0,0,1];
              break;
            case 'Digit5' : 
              cube.color = [1,1,0];
              break;
            case 'Digit6' :
              cube.color = [1,0,1];
              break;
            case 'Digit7' : 
              cube.color = [0,1,1];
              break;
            case 'Digit0' :
              cube.color = [0,0,0];
              break;
              default:
              break;
          }
        }
      }
      </script>
  </head>
  <body>
  </body>
</html>
